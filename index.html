<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Loiacono streaming WebGPU</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>Streaming Loiacono Spectrogram (WebGPU)</h1>
  <div class="controls">
    <button id="startBtn">Start streaming</button>
    <button id="stopBtn" disabled>Stop</button>
    <button id="chirpBtn">Load chirp.wav</button>
    <button id="testGradientBtn">Test gradient</button>
    <button id="drawCircleBtn">Draw Circle</button>
    <button id="testRenderPipelineBtn">Test Render Pipeline</button>
    <label class="file-upload">
      Upload audio file
      <input id="audioFileInput" type="file" accept="audio/*" />
    </label>
    <label class="toggle-control">
      <input type="checkbox" id="singleChunkMode" checked />
      Single-chunk queue (debug)
    </label>
    <label class="toggle-control">
      <input type="checkbox" id="pixelPerfectMode" checked />
      Pixel-perfect (1:1) rendering
    </label>
    <label class="toggle-control">
      <input type="checkbox" id="suppressLogs" />
      Suppress logs
    </label>
    <span id="status">idle</span>
  </div>
  <canvas id="spectrumCanvas" width="900" height="320"></canvas>
  <pre id="stats">waiting for audio...</pre>

  <script type="module" src="app.js"></script>
</body>

</html>
